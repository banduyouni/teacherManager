<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½œä¸šæ¶ˆå¤±é—®é¢˜è°ƒè¯•æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        .warning { color: orange; }
        code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; font-family: 'Courier New', monospace; }
        .steps { background: #f9f9f9; padding: 15px; border-left: 4px solid #007cba; }
        .fix { background: #e8f5e8; padding: 15px; border-left: 4px solid #28a745; }
        .problem { background: #ffeaea; padding: 15px; border-left: 4px solid #dc3545; }
    </style>
</head>
<body>
    <h1>ğŸ” ä½œä¸šæ¶ˆå¤±é—®é¢˜ - è°ƒè¯•ä¸ä¿®å¤</h1>
    
    <div class="problem">
        <h3>ğŸš¨ é—®é¢˜æè¿°</h3>
        <p>åˆ›å»ºä½œä¸šåï¼Œç‚¹å‡»ç¼–è¾‘å¹¶ä¿å­˜ï¼Œä½œä¸šä»åˆ—è¡¨ä¸­æ¶ˆå¤±</p>
    </div>

    <div class="section">
        <h3>ğŸ”§ å¯èƒ½çš„åŸå› åˆ†æ</h3>
        <ul>
            <li><strong>æ•°æ®åŒæ­¥é—®é¢˜</strong>ï¼šæ›´æ–°åæœ¬åœ°æ•°æ®ä¸æ•°æ®ç®¡ç†å™¨ä¸åŒæ­¥</li>
            <li><strong>ç±»å‹æ˜ å°„é”™è¯¯</strong>ï¼š<code>filterAssignmentsByType</code> ä¸­çš„ç±»å‹æ˜ å°„é—®é¢˜</li>
            <li><strong>äº‹ä»¶ç›‘å¬å™¨é‡å¤</strong>ï¼šå¤šæ¬¡ç»‘å®šå¯¼è‡´å¼‚å¸¸è¡Œä¸º</li>
            <li><strong>courseId å˜æ›´</strong>ï¼šç¼–è¾‘æ—¶è¯¾ç¨‹IDè¢«é”™è¯¯ä¿®æ”¹</li>
        </ul>
    </div>

    <div class="fix">
        <h3>âœ… å·²å®æ–½çš„ä¿®å¤</h3>
        
        <h4>1. é¿å…é‡æ–°åŠ è½½æ•°æ®</h4>
        <pre><code>// ä¿®å¤å‰ï¼šå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±
this.loadTeacherData();

// ä¿®å¤åï¼šç›´æ¥æ›´æ–°æœ¬åœ°æ•°æ®
const index = this.assignmentsData.findIndex(a => a.id === assignmentId);
if (index !== -1) {
    this.assignmentsData[index] = { ...this.assignmentsData[index], ...assignmentData };
}</code></pre>

        <h4>2. æ”¹è¿›ç±»å‹ç­›é€‰é€»è¾‘</h4>
        <pre><code>// ä¿®å¤å‰ï¼šå¯èƒ½å¯¼è‡´æ— æ•ˆç±»å‹è¿‡æ»¤
const dataType = dataTypeMap[type] || type;

// ä¿®å¤åï¼šéªŒè¯ç±»å‹æœ‰æ•ˆæ€§
const dataType = dataTypeMap[type];
if (dataType && (dataType === 'assignment' || dataType === 'exam')) {
    filteredAssignments = this.assignmentsData.filter(assignment => assignment.type === dataType);
} else {
    filteredAssignments = this.assignmentsData; // æ˜¾ç¤ºæ‰€æœ‰
}</code></pre>

        <h4>3. å®‰å…¨çš„æ¸²æŸ“é€»è¾‘</h4>
        <pre><code>// æ·»åŠ ç±»å‹éªŒè¯
if (currentTab && (currentTab.dataset.tab === 'assignments' || currentTab.dataset.tab === 'exams')) {
    this.filterAssignmentsByType(currentTab.dataset.tab);
} else {
    this.renderAssignments(); // å›é€€åˆ°æ˜¾ç¤ºæ‰€æœ‰
}</code></pre>
    </div>

    <div class="steps">
        <h3>ğŸ§ª æµ‹è¯•æ­¥éª¤</h3>
        <ol>
            <li><strong>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜</strong> (Ctrl+Shift+R)</li>
            <li>æ‰“å¼€ <a href="teacher-dashboard.html">teacher-dashboard.html</a></li>
            <li>ç™»å½•æ•™å¸ˆè´¦æˆ·ï¼ˆç”¨æˆ·åï¼šteacherï¼Œå¯†ç ï¼šteacher123ï¼‰</li>
            <li>è¿›å…¥"ä½œä¸šç®¡ç†"é¡µé¢</li>
            <li>åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œä¸šæˆ–è€ƒè¯•</li>
            <li>ç­‰å¾…åˆ›å»ºæˆåŠŸï¼Œç¡®è®¤ä½œä¸šå‡ºç°åœ¨åˆ—è¡¨ä¸­</li>
            <li>ç‚¹å‡»è¯¥ä½œä¸šçš„"ç¼–è¾‘"æŒ‰é’®</li>
            <li>ä¸è¦ä¿®æ”¹ä»»ä½•å†…å®¹ï¼Œç›´æ¥ç‚¹å‡»"ä¿å­˜ä¿®æ”¹"</li>
            <li><strong>å…³é”®æ£€æŸ¥</strong>ï¼šä½œä¸šæ˜¯å¦ä»ç„¶å­˜åœ¨äºåˆ—è¡¨ä¸­ï¼Ÿ</li>
        </ol>
    </div>

    <div class="section">
        <h3>ğŸ” å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨</h3>
        <p>è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ”¶é›†è°ƒè¯•ä¿¡æ¯ï¼š</p>
        <ol>
            <li>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)</li>
            <li>åˆ‡æ¢åˆ°"æ§åˆ¶å°"(Console) æ ‡ç­¾</li>
            <li>é‡å¤æµ‹è¯•æ­¥éª¤</li>
            <li>è§‚å¯Ÿæ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯</li>
            <li>è®°å½•æ§åˆ¶å°è¾“å‡ºçš„è°ƒè¯•ä¿¡æ¯</li>
        </ol>
    </div>

    <div class="section info">
        <h3>ğŸ“ é¢„æœŸè¡Œä¸º</h3>
        <ul>
            <li>âœ… åˆ›å»ºä½œä¸šåå‡ºç°åœ¨åˆ—è¡¨ä¸­</li>
            <li>âœ… ç¼–è¾‘ä¿å­˜åä½œä¸šä»ç„¶å­˜åœ¨</li>
            <li>âœ… åªæ˜¾ç¤ºä¸€æ¬¡æˆåŠŸæ¶ˆæ¯</li>
            <li>âœ… ä¿®æ”¹çš„å†…å®¹è¢«æ­£ç¡®ä¿å­˜</li>
        </ul>
    </div>

    <div class="warning">
        <h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3>
        <ul>
            <li>ç¡®ä¿ <code>dataManager.js</code> ä¸­çš„ <code>updateData</code> æ–¹æ³•æ­£å¸¸å·¥ä½œ</li>
            <li>æ£€æŸ¥æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨æ˜¯å¦æ­£å¸¸</li>
            <li>å¦‚æœé—®é¢˜æŒç»­ï¼Œå¯èƒ½éœ€è¦æ¸…é™¤æµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨æ•°æ®</li>
        </ul>
    </div>

    <p><a href="teacher-dashboard.html" style="background: #007cba; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block; margin-top: 10px;">ğŸš€ å¼€å§‹æµ‹è¯•</a></p>
</body>
</html>